---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "saviynt_unix_connection_resource Resource - saviynt"
subcategory: ""
description: |-
  Create and Manage UNIX Connections
---

# saviynt_unix_connection_resource (Resource)

Create and Manage UNIX Connections

## Example Usage

```terraform
terraform {
  required_providers {
    saviynt = {
      source  = "registry.terraform.io/local/saviynt"
      version = "1.0.0"
    }
  }
}

provider "saviynt" {
  server_url = var.SAVIYNT_SERVER_URL
  username   = var.SAVIYNT_USERNAME
  password   = var.SAVIYNT_PASSWORD
}

resource "saviynt_unix_connection_resource" "example" {
  connection_type = "Unix"
  connection_name = "Terraform_Unix_Connector"
  host_name       = "unix.example.com"
  port_number     = "22"
  username        = "provision_user"
  password        = "SuperSecretPassword123!"

  groups_file   = "/etc/group"
  accounts_file = "/etc/passwd"
  shadow_file   = jsonencode({ UNIX = "sudo cat /etc/shadow" })

  provision_account_command = "sudo useradd $$${user.username} -p $$${user.password} -c \"$$${user.fullname}\" -g users"

  deprovision_account_command = "sudo userdel -r $$${user.username}"

  add_access_command = "sudo usermod -aG $$${entitlement.groupname} $$${user.username}"

  remove_access_command = "sudo gpasswd -d $$${user.username} $$${entitlement.groupname}"

  change_password_json = jsonencode({
    UNIX = "echo $$${user.username}:$$${user.new_password} | sudo chpasswd"
  })

  pem_key_file = "/etc/saviynt/keys/id_rsa"

  enable_account_command = "sudo passwd -u $$${user.username}"

  disable_account_command = "sudo passwd -l $$${user.username}"

  account_entitlement_mapping_command = "grep $$${user.username} /etc/group"

  passphrase = "optional_passphrase"

  update_account_command = "sudo usermod -c \"$$${user.comment}\" $$${user.username}"

  create_group_command = "sudo groupadd $$${group.name}"

  delete_group_command = "sudo groupdel $$${group.name}"

  add_group_owner_command = "sudo chown $$${group.owner} /etc/group"

  add_primary_group_command = "sudo usermod -g $$${group.name} $$${user.username}"

  fire_fighter_id_grant_access_command = "sudo usermod -aG firegroup $$${user.username}"

  fire_fighter_id_revoke_access_command = "sudo gpasswd -d $$${user.username} firegroup"

  inactive_lock_account = "true"

  status_threshold_config = jsonencode({
    threshold  = 3
    time_unit  = "days"
    grace_days = 2
  })

  custom_config_json = jsonencode({
    shell_type = "bash"
    timeout    = 30
    retryPolicy = {
      maxAttempts = 3
      backoff     = "linear"
    }
  })

  ssh_key = <<EOKEY
  -----BEGIN RSA PRIVATE KEY-----
  MIICXQIBAAKBgQDX...
  -----END RSA PRIVATE KEY-----
  EOKEY

  lock_account_command   = "sudo usermod -L $$${user.username}"
  unlock_account_command = "sudo usermod -U $$${user.username}"

  pass_through_connection_details = jsonencode({
    hostname = "unix-jumphost.example.com"
    port     = "22"
    username = "jumphost_user"
  })

  ssh_pass_through_password   = "JumpHostSecretPass#456"
  ssh_pass_through_sshkey     = "/home/jumphost_user/.ssh/id_rsa"
  ssh_pass_through_passphrase = "JumphostKeyPassphrase"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `connection_name` (String) Name of the connection. Example: "Active Directory_Doc"
- `connection_type` (String) Connection type (e.g., 'AD' for Active Directory). Example: "AD"
- `host_name` (String) Property for HOST_NAME
- `port_number` (String) Property for PORT_NUMBER
- `username` (String) Property for USERNAME

### Optional

- `account_entitlement_mapping_command` (String) Property for ACCOUNT_ENTITLEMENT_MAPPING_COMMAND
- `accounts_file` (String) Property for ACCOUNTS_FILE
- `add_access_command` (String) Property for ADD_ACCESS_COMMAND
- `add_group_owner_command` (String) Property for ADD_GROUP_OWNER_COMMAND
- `add_primary_group_command` (String) Property for ADD_PRIMARY_GROUP_COMMAND
- `change_password_json` (String) Property for CHANGE_PASSWRD_JSON
- `create_group_command` (String) Property for CREATE_GROUP_COMMAND
- `custom_config_json` (String) Property for CUSTOM_CONFIG_JSON
- `defaultsavroles` (String) Default SAV roles for managing the connection. Example: "ROLE_ORG"
- `delete_group_command` (String) Property for DELETE_GROUP_COMMAND
- `deprovision_account_command` (String) Property for DEPROVISION_ACCOUNT_COMMAND
- `description` (String) Description for the connection. Example: "ORG_AD"
- `disable_account_command` (String) Property for DISABLE_ACCOUNT_COMMAND
- `email_template` (String) Email template for notifications. Example: "New Account Task Creation"
- `enable_account_command` (String) Property for ENABLE_ACCOUNT_COMMAND
- `error_code` (String) An error code where '0' signifies success and '1' signifies an unsuccessful operation.
- `fire_fighter_id_grant_access_command` (String) Property for FIREFIGHTERID_GRANT_ACCESS_COMMAND
- `fire_fighter_id_revoke_access_command` (String) Property for FIREFIGHTERID_REVOKE_ACCESS_COMMAND
- `groups_file` (String) Property for GROUPS_FILE
- `inactive_lock_account` (String) Property for INACTIVE_LOCK_ACCOUNT
- `lock_account_command` (String) Property for LOCK_ACCOUNT_COMMAND
- `msg` (String) A message indicating the outcome of the operation.
- `pass_through_connection_details` (String) Property for PassThroughConnectionDetails
- `passphrase` (String) Property for PASSPHRASE
- `password` (String) Property for PASSWORD
- `pem_key_file` (String) Property for PEM_KEY_FILE
- `provision_account_command` (String) Property for PROVISION_ACCOUNT_COMMAND
- `remove_access_command` (String) Property for REMOVE_ACCESS_COMMAND
- `save_in_vault` (String) Flag indicating whether the encrypted attribute should be saved in the configured vault. Example: "false"
- `shadow_file` (String) Property for SHADOW_FILE
- `ssh_key` (String) Property for SSH_KEY
- `ssh_pass_through_passphrase` (String) Property for SSHPassThroughPassphrase
- `ssh_pass_through_password` (String) Property for SSHPassThroughPassword
- `ssh_pass_through_sshkey` (String) Property for SSHPassThroughSSHKEY
- `status_threshold_config` (String) Property for STATUS_THRESHOLD_CONFIG
- `unlock_account_command` (String) Property for UNLOCK_ACCOUNT_COMMAND
- `update_account_command` (String) Property for UPDATE_ACCOUNT_COMMAND
- `vault_configuration` (String) JSON string specifying vault configuration. Example: '{"path":"/secrets/data/kv-dev-intgn1/-AD_Credential","keyMapping":{"PASSWORD":"AD_PASSWORD~#~None"}}'
- `vault_connection` (String) Specifies the type of vault connection being used (e.g., 'Hashicorp'). Example: "Hashicorp"

### Read-Only

- `connection_key` (Number) Unique identifier of the connection returned by the API. Example: 1909
- `id` (String) Resource ID.

---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "saviynt_unix_connection_resource Resource - saviynt"
subcategory: ""
description: |-
  Create and manage Unix connector in Saviynt
---

# saviynt_unix_connection_resource (Resource)

Create and manage Unix connector in Saviynt

## Example Usage

```terraform
variable "HOST_NAME" {
  type        = string
  description = "The hostname of the Unix server"
}
variable "PORT_NUMBER" {
  type        = string
  description = "The port number for the Unix server"
}
variable "USERNAME" {
  type        = string
  description = "The username for the Unix server"
}
variable "PASSWORD" {
  type        = string
  description = "The password for the Unix server"
  sensitive   = true
}
variable "PEM_KEY_FILE" {
  type        = string
  description = "The path to the PEM key file"
}
variable "PASSPHRASE" {
  type        = string
  description = "The value used in conjunction with the PEM Key file."
}
variable "SSH_KEY" {
  type        = string
  description = "SSH key used to connect to Unix serv"
}

resource "saviynt_unix_connection_resource" "example" {
  connection_type = "Unix"
  connection_name = "Terraform_Unix_Connector"
  host_name       = var.HOST_NAME
  port_number     = var.PORT_NUMBER
  username        = var.USERNAME
  password        = var.PASSWORD

  groups_file   = "sudo cat /etc/group"
  accounts_file = jsonencode({ unix = "sudo cat /etc/passwd" })
  shadow_file   = jsonencode({ unix = "sudo cat /etc/shadow" })

  provision_account_command = "sudo useradd $${username} -p $${password} -c \"$${user?.country}/$${user?.employeeType}/$${user?.employeeid}/$${user?.lastname}.$${user?.firstname}/$${user?.email}\" -g users"

  deprovision_account_command = "sudo userdel $${accountName}"

  change_password_json = jsonencode({
    command        = "echo '$${account.name}:$${newPassword}' | sudo /usr/sbin/chpasswd"
    changePassword = true
    changeKey      = true
  })


  # pem_key_file = var.PEM_KEY_FILE         ## This is required for passwordless authetication

  enable_account_command = "sudo usermod -U $${accountName}"

  disable_account_command = "sudo usermod -L $${accountName}"

  account_entitlement_mapping_command = "sudo cat /etc/group"

  # passphrase = var.PASSPHRASE            ## This is required for passwordless authetication

  update_account_command = "sudo usermod -c \"$${user?.country}/$${user?.employeeType}/$${user?.employeeid}/$${user?.lastname}.$${user?.firstname}/$${user?.email}\" $${username}"

  create_group_command = "sudo groupadd $${groupName}"

  delete_group_command = "sudo groupdel  $${groupName}"

  add_group_owner_command = "sudo gpasswd -A $${username} $${groupName}"

  add_primary_group_command = "sudo gpasswd -A $${username} $${groupName}"

  fire_fighter_id_grant_access_command = "sudo usermod -c \"$${user?.country}/$${user?.lastname}.$${user?.firstname}/$${user?.email}\" $${username}"

  fire_fighter_id_revoke_access_command = "sudo usermod -c \"$${user?.country}/$${user?.firstname}\" $${username}"

  inactive_lock_account = "true"

  status_threshold_config = jsonencode({
    statusAndThresholdConfig = {
      accountThresholdValue         = 25
      accountEntThresholdValue      = 3
      entThresholdValue             = 10
      deleteAccEntForActiveAccounts = true
      statusColumn                  = "customproperty1"
      deleteLinks                   = false
      correlateInactiveAccounts     = true
      inactivateAccountsNotInFile   = false
      inactivateEntsNotInFeed       = true
      activeStatus                  = ["1", "Active"]
      lockedStatusColumn            = "userlock"
      lockedStatusMapping = {
        Locked   = ["1"]
        Unlocked = ["0"]
      }
    }
  })


  custom_config_json = jsonencode({
    connectionTimeout = 10
    readTimeout       = 50
    writeTimeout      = 50
    retryWait         = 2
    retryCount        = 3
  })

  ssh_key = <<EOKEY
  -----BEGIN RSA PRIVATE KEY-----
  .....
  -----END RSA PRIVATE KEY-----
  EOKEY

  lock_account_command   = "sudo usermod -L $${accountName}"
  unlock_account_command = "sudo usermod -U $${accountName}"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `connection_name` (String) Name of the connection. Example: "Active Directory_Doc"
- `host_name` (String) Property for HOST_NAME
- `port_number` (String) Property for PORT_NUMBER
- `username` (String) Property for USERNAME

### Optional

- `account_entitlement_mapping_command` (String) Property for ACCOUNT_ENTITLEMENT_MAPPING_COMMAND
- `accounts_file` (String) Property for ACCOUNTS_FILE
- `add_access_command` (String) Property for ADD_ACCESS_COMMAND
- `add_group_owner_command` (String) Property for ADD_GROUP_OWNER_COMMAND
- `add_primary_group_command` (String) Property for ADD_PRIMARY_GROUP_COMMAND
- `change_password_json` (String) Property for CHANGE_PASSWRD_JSON
- `connection_type` (String) Connection type (e.g., 'AD' for Active Directory). Example: "AD"
- `create_group_command` (String) Property for CREATE_GROUP_COMMAND
- `custom_config_json` (String) Property for CUSTOM_CONFIG_JSON
- `defaultsavroles` (String) Default SAV roles for managing the connection. Example: "ROLE_ORG"
- `delete_group_command` (String) Property for DELETE_GROUP_COMMAND
- `deprovision_account_command` (String) Property for DEPROVISION_ACCOUNT_COMMAND
- `description` (String) Description for the connection. Example: "ORG_AD"
- `disable_account_command` (String) Property for DISABLE_ACCOUNT_COMMAND
- `email_template` (String) Email template for notifications. Example: "New Account Task Creation"
- `enable_account_command` (String) Property for ENABLE_ACCOUNT_COMMAND
- `error_code` (String) An error code where '0' signifies success and '1' signifies an unsuccessful operation.
- `fire_fighter_id_grant_access_command` (String) Property for FIREFIGHTERID_GRANT_ACCESS_COMMAND
- `fire_fighter_id_revoke_access_command` (String) Property for FIREFIGHTERID_REVOKE_ACCESS_COMMAND
- `groups_file` (String) Property for GROUPS_FILE
- `inactive_lock_account` (String) Property for INACTIVE_LOCK_ACCOUNT
- `lock_account_command` (String) Property for LOCK_ACCOUNT_COMMAND
- `msg` (String) A message indicating the outcome of the operation.
- `pass_through_connection_details` (String) Property for PassThroughConnectionDetails
- `passphrase` (String) Property for PASSPHRASE
- `password` (String) Property for PASSWORD
- `pem_key_file` (String) Property for PEM_KEY_FILE
- `provision_account_command` (String) Property for PROVISION_ACCOUNT_COMMAND
- `remove_access_command` (String) Property for REMOVE_ACCESS_COMMAND
- `save_in_vault` (String) Flag indicating whether the encrypted attribute should be saved in the configured vault. Example: "false"
- `shadow_file` (String) Property for SHADOW_FILE
- `ssh_key` (String) Property for SSH_KEY
- `ssh_pass_through_passphrase` (String) Property for SSHPassThroughPassphrase
- `ssh_pass_through_password` (String) Property for SSHPassThroughPassword
- `ssh_pass_through_sshkey` (String) Property for SSHPassThroughSSHKEY
- `status_threshold_config` (String) Property for STATUS_THRESHOLD_CONFIG
- `unlock_account_command` (String) Property for UNLOCK_ACCOUNT_COMMAND
- `update_account_command` (String) Property for UPDATE_ACCOUNT_COMMAND
- `vault_configuration` (String) JSON string specifying vault configuration. Example: '{"path":"/secrets/data/kv-dev-intgn1/-AD_Credential","keyMapping":{"PASSWORD":"AD_PASSWORD~#~None"}}'
- `vault_connection` (String) Specifies the type of vault connection being used (e.g., 'Hashicorp'). Example: "Hashicorp"

### Read-Only

- `connection_key` (Number) Unique identifier of the connection returned by the API. Example: 1909
- `id` (String) Resource ID.

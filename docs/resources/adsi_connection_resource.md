---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "saviynt_adsi_connection_resource Resource - saviynt"
subcategory: ""
description: |-
  Create and Manage ADSI Connections
---

# saviynt_adsi_connection_resource (Resource)

Create and Manage ADSI Connections

## Example Usage

```terraform
resource "saviynt_adsi_connection_resource" "sample" {
  connection_type = "ADSI"
  connection_name = "sample-adsi-connector"
  url             = "<URL>"
  status_threshold_config = jsonencode({
    "statusAndThresholdConfig" : {
      "statusColumn" : "customproperty24",
      "activeStatus" : [
        "512",
        "544",
        "66048"
      ],
      "deleteLinks" : false,
      "accountThresholdValue" : 50000,
      "correlateInactiveAccounts" : true,
      "inactivateAccountsNotInFile" : false,
      "deleteAccEntForActiveAccounts" : false
    }
  })
  username       = "<USERNAME>"
  connection_url = "<CONNECTION_URL>"
  forestlist     = "<FORESTLIST>"
  password       = "<PASSWORD>"
  searchfilter   = "<SEARCH_FILTER>"
  objectfilter   = "OBJECT_FILTER>"
  user_attribute = "<USER_ATTRIBUTE>"

  account_attribute        = "<ACCOUNT_ATTRIBUTE>"
  entitlement_attribute    = "<ENTITLEMENT_ATTRIBUTE>"
  accountnamerule          = "<ACCOUNT_NAME_RULE>"
  checkforunique           = "<CHECK_FOR_UNIQUE>"
  group_search_base_dn     = "<GROUP_SEARCH_BASE_DN>"
  group_import_mapping     = <<EOF
{
  "importGroupHierarchy": "true",
  "entitlementTypeName": "memberOf",
  "performGroupAccountLinking": "true",
  "groupObjectClass": "(objectclass=group)",
  "entitlementOwnerAttribute": "managedby",
  "tableFieldAttribute": "accountID",
  "mapping": "memberHash:memberof_char,customProperty1:samaccounttype_char,customProperty2:instancetype_char,customProperty3:usncreated_char,customProperty4:grouptype_char,customProperty5:dscorepropagationdata_char,customProperty12:dn_char,customProperty13:cn_char,lastscandate:whencreated_date,customProperty15:managedBy_char,entitlement_glossary:description_char,description:description_char,displayname:name_char,customProperty9:name_char,customProperty10:objectcategory_char,customProperty11:samaccounttype_char,entitlement_value:distinguishedname_char,entitlementid:distinguishedname_char,customProperty14:objectclass_char,updatedate:whenchanged_date,customProperty17:distinguishedname_char,RECONCILATION_FIELD:customProperty18,customProperty18:objectguid_char"
}
EOF
  import_nested_membership = "false"
  page_size                = "1000"
  provisioning_url         = "<URL>"
  createaccountjson = jsonencode({
    "objects" : [
      {
        "objectClasses" : [
          "user",
          "top",
          "Person",
          "OrganizationalPerson"
        ],
        "baseDn" : "<...>",
        "password" : "<...>",
        "attributes" : {
          "sn" : "$${user.lastname}",
          "sAMAccountName" : "$${task.accountName}",
          "cn" : "$${task.accountName}",
          "userAccountControl" : 512,
          "co" : "",
          "department" : "$${user.departmentname}",
          "displayName" : "$${user.displayname}",
          "employeeID" : "$${user.employeeid}",
          "employeeNumber" : "1",
          "employeeType" : "$${user.employeeType}",
          "givenName" : "$${user.firstname}",
          "l" : "$${user.city}",
          "mail" : "$${user.email}",
          "proxyAddresses" : [
            "SMTP:test@test.org",
            "SIP:Test@test1.org"
          ]
        }
      }
    ]
  })
  updateaccountjson = jsonencode(
    {
      "objects" : [
        {
          "objectClasses" : [
            "user"
          ],
          "distinguishedName" : "$${account.accountID?.replace('\\', '\\\\')?.replace('/', '\\/')}",
          "attributes" : {
            "displayName" : "$${user.displayname}",
            "streetAddress" : "$${user.street}",
            "additionalAttributes" : {
              "departmentName" : "PM",
              "companyName" : "<...>"
            }
          }
        }
      ]
  })
  addaccessjson             = <<EOF
{
  "objects": [
    {
      "objectClasses": [
        "user"
      ],
      "distinguishedName": "$${accountID}",
      "addGroup": "$${entitlement_values}"
    }
  ],
  "requestConfiguration": {
    "grpMemExistenceChk": {
      "enable": true
    }
  }
}
EOF
  removeaccessjson          = <<EOF
{
  "objects": [
    {
      "objectClasses": [
        "group"
      ],
      "distinguishedName": "$${accountID}",
      "removeGroup": "$${entitlement_values}"
    }
  ],
  "requestConfiguration": {
    "grpMemExistenceChk": {
      "enable": true
    }
  }
}
EOF
  enableaccountjson         = <<EOF
{"objects":[{"objectClasses":["user"],"distinguishedName":"$${account.accountID}","deleteAllGroups":false,"attributes":{"userAccountControl":512}}]}
EOF
  disableaccountjson        = <<EOF
{"objects":[{"objectClasses":["user"],"distinguishedName":"$${account.accountID}","deleteAllGroups":false,"attributes":{"userAccountControl":514}}]}
EOF
  removeaccountjson         = <<EOF
{"objects": [{"distinguishedName": "$${account.accountID}","removeAction": "DELETE","deleteChildObjects": false}]}
EOF
  resetandchangepasswrdjson = <<EOF
{ "objects":[ { "objectClasses":[ "user" ], "password":"$${password}", "distinguishedName":"", "attributes":{ "pwdLastSet":"$${pwdLastSet}" } } ]}
EOF
  creategroupjson = jsonencode(
    {
      "objects" : [
        {
          "objectClasses" : [
            "group"
          ],
          "baseDn" : "$${role.customproperty24}",
          "attributes" : {
            "cn" : "$${role.displayname}",
            "name" : "$${role.displayname}",
            "description" : "$${role.description}",
            "displayName" : "$${role.displayname}",
            "groupType" : "$${role?.customproperty21 == 'Security' && role?.customproperty22 == 'Global'?'-2147483646' : role?.customproperty21=='Security'&&role?.customproperty22=='Universal'?'-2147483640' : role?.customproperty21== 'Security'&&role?.customproperty22=='Domain Local' ? '-2147483644':role?.customproperty21=='Distribution'&&role?.customproperty22=='Global' ? '2':role?.customproperty21== 'Distribution'&&role?.customproperty22=='Universal'?'8':role?.customproperty21=='Distribution'&& role?.customproperty22=='Domain Local'?'4':''}"
          }
        }
      ]
  })
  updategroupjson = jsonencode({
    "objects" : [
      {
        "objectClasses" : [
          "group"
        ],
        "distinguishedName" : "$${role.role_name}",
        "attributes" : {
          "description" : "$${role.description}",
          "proxyAddresses" : "$${role.customproperty20}"
        }
      }
    ]
  })
  removegroupjson             = <<EOF
{
  "objects": [
    {
      "distinguishedName": "$${role.role_name}",
      "removeAction": "DELETE",
      "deleteChildObjects": false
    }
  ]
}
EOF
  addaccessentitlementjson    = <<EOF
{
   "objects":[
      {
         "objectClasses":[
            "group"
         ],
         "distinguishedName":"$${ent1Value.entitlement_value?.replace('\\', '\\\\')?.replace('/', '\\/')}",
         "addGroup":"$${ent2Value.entitlement_value?.replace('\\', '\\\\')?.replace('/', '\\/')}"
      }
   ],
   "requestConfiguration":{
      "grpMemExistenceChk":{
         "enable":true
      }
   }
}
EOF
  removeaccessentitlementjson = <<EOF
{
   "objects":[
      {
         "objectClasses":[
            "group"
         ],
         "distinguishedName":"$${ent1Value.entitlement_value?.replace('\\', '\\\\')?.replace('/', '\\/')}",
         "removeGroup":"$${ent2Value.entitlement_value?.replace('\\', '\\\\')?.replace('/', '\\/')}"
      }
   ],
   "requestConfiguration":{
      "grpMemExistenceChk":{
         "enable":true
      }
   }
}
EOF
  createserviceaccountjson    = <<EOF
{
  "objects": [
    {
      "objectClasses": [
        "user",
        "top",
        "Person",
        "OrganizationalPerson"
      ],
      "baseDn": "$${baseDN}",
      "password": "$${password}",
      "attributes": {
        "sAMAccountName": "$${task.accountName}",
        "cn": "$${task.accountName}",
        "displayname": "testDP",
        "userAccountControl": 512
      }
    }
  ]
}
EOF
  updateserviceaccountjson    = <<EOF
{
  "objects": [
    {
      "objectClasses": [
        "user",
        "top",
        "Person",
        "OrganizationalPerson"
      ],
      "distinguishedName": "$${account.accountID?.replace('\\', '\\\\')?.replace('/', '\\/')}",
      "attributes": {
        "pwdLastSet": 0,
        "displayName": "testDPUpdated"
      }
    }
  ]
}
EOF
  removeserviceaccountjson    = <<EOF
{
  "objects": [
    {
      "distinguishedName": "$${account.accountID?.replace('\\', '\\\\')?.replace('/', '\\/')}",
      "removeAction": "DELETE",
      "deleteChildObjects": false
    }
  ]
}
EOF
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `connection_name` (String) Name of the connection. Example: "Active Directory_Doc"
- `connection_type` (String) Connection type (e.g., 'AD' for Active Directory). Example: "AD"
- `connection_url` (String) ADSI remote agent Connection URL
- `forestlist` (String) Forest List (Comma Separated) which we need to manage
- `password` (String) Service account password
- `url` (String) Primary/root domain URL list (comma Separated)
- `username` (String) Service account username

### Optional

- `account_attribute` (String) Map EIC and AD attributes for account import (AD attributes must be in lower case)
- `accountnamerule` (String) Rule to generate account name.
- `addaccessentitlementjson` (String) Configuration to Add nested group hierarchy
- `addaccessjson` (String) Configuration to ADD Access (cross domain/forest group membership) to an account.
- `checkforunique` (String) Evaluate the uniqueness of an attribute
- `createaccountjson` (String) Specify the attributes values which will be used to Create the New Account.
- `creategroupjson` (String) Configuration to Create a Group
- `createserviceaccountjson` (String) Specify the Field Value which will be used to Create the New Service Account.
- `customconfigjson` (String) Custom configuration JSON
- `default_user_role` (String) Default SAV Role to be assigned to all the new users that gets imported via User Import
- `defaultsavroles` (String) Default SAV roles for managing the connection. Example: "ROLE_ORG"
- `description` (String) Description for the connection. Example: "ORG_AD"
- `disableaccountjson` (String) Specify the actions and attributes updates to be performed for disabling an account.
- `email_template` (String) Email template for notifications. Example: "New Account Task Creation"
- `enableaccountjson` (String) Specify the actions and attribute updates to be performed for enabling an account.
- `endpoints_filter` (String) Provide the configuration to create Child Endpoints and import associated accounts and entitlements
- `entitlement_attribute` (String) Account attribute that contains group membership
- `error_code` (String) An error code where '0' signifies success and '1' signifies an unsuccessful operation.
- `group_import_mapping` (String) Map AD group attribute to EIC entitlement attribute for import
- `group_search_base_dn` (String) Group Search Filter to specify the starting point of the directory from where the groups needs to be imported. You can have multiple BaseDNs here separated by ###.
- `import_nested_membership` (String) Specify if you want the connector to import all indirect or nested membership of an account or a group during access import
- `modifyuserdatajson` (String) Specify this parameter to transform the data during user import.
- `msg` (String) A message indicating the outcome of the operation.
- `objectfilter` (String) Object Filter is used to filter the objects that will be returned.This filter will be same for all domains.
- `page_size` (String) Page size defines the number of objects to be returned from each AD operation.
- `pam_config` (String) JSON to specify Bootstrap Config.
- `provisioning_url` (String) ADSI remote agent Provisioning URL
- `removeaccessentitlementjson` (String) Configuration to Remove nested group hierarchy
- `removeaccessjson` (String) Configuration to REMOVE Access (cross domain/forest group membership) to an account.
- `removeaccountjson` (String) Specify the actions to be performed for deleting an account.
- `removegroupjson` (String) Configuration to Delete a Group
- `removeserviceaccountjson` (String) Specify the actions to be performed while deleting a service account.
- `resetandchangepasswrdjson` (String) Configuration to Reset and Change Password.
- `save_in_vault` (String) Flag indicating whether the encrypted attribute should be saved in the configured vault. Example: "false"
- `searchfilter` (String) Account Search Filter to specify the starting point of the directory from where the accounts needs to be imported. You can have multiple BaseDNs here separated by ###.
- `status_threshold_config` (String) Account status and threshold related config
- `statuskeyjson` (String) JSON configuration to specify Users status
- `updateaccountjson` (String) Specify the attributes values which will be used to Update existing Account.
- `updategroupjson` (String) Configuration to Update a Group
- `updateserviceaccountjson` (String) Specify the Field Value which will be used to update the existing Service Account.
- `updateuserjson` (String) Specify the attribute Value which will be used to Update existing User
- `user_attribute` (String) Map EIC and AD attributes for user import (AD attributes must be in lower case)
- `vault_configuration` (String) JSON string specifying vault configuration. Example: '{"path":"/secrets/data/kv-dev-intgn1/-AD_Credential","keyMapping":{"PASSWORD":"AD_PASSWORD~#~None"}}'
- `vault_connection` (String) Specifies the type of vault connection being used (e.g., 'Hashicorp'). Example: "Hashicorp"

### Read-Only

- `connection_key` (Number) Unique identifier of the connection returned by the API. Example: 1909
- `id` (String) Resource ID.

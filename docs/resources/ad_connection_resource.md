---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "saviynt_ad_connection_resource Resource - saviynt"
subcategory: ""
description: |-
  Create and manage AD connector in Saviynt
---

# saviynt_ad_connection_resource (Resource)

Create and manage AD connector in Saviynt

## Example Usage

```terraform
variable "IP_ADDRESS" {
  type        = string
  description = "Saviynt host server"
}
variable "LDAP_PORT" {
  type        = string
  description = "Port for the connection"
}
variable "LDAP_PROTOCOL" {
  type        = string
  description = "Protocol type (e.g., LDAP, HTTP, etc.)"
}
variable "PASSWORD" {
  type        = string
  description = "Connection password"
  sensitive   = true
}
variable "BIND_USER" {
  type        = string
  description = "Connection username"
}
variable "VAULT_CONNECTION" {
  type        = string
  description = "Vault connection"
}
variable "VAULT_CONFIG" {
  type        = string
  description = "Vault config"
}
variable "SAVE_IN_VAULT" {
  type        = string
  description = "Save in vault"
}
variable "BASE_CONTAINER" {
  type        = string
  description = "Value of BASEDN"
}
variable "DOMAIN" {
  type        = string
  description = "Value of DOMCONTRDN"
}
resource "saviynt_ad_connection_resource" "example" {
  connection_type       = "AD"
  connection_name       = "Terraform_AD_Connector"
  url                   = format("%s://%s:%d", var.LDAP_PROTOCOL, var.IP_ADDRESS, var.LDAP_PORT)
  password              = var.PASSWORD
  username              = var.BIND_USER
  vault_connection      = var.VAULT_CONNECTION
  vault_configuration   = var.VAULT_CONFIG
  save_in_vault         = var.SAVE_IN_VAULT
  searchfilter          = var.BASE_CONTAINER
  base                  = var.BASE_CONTAINER
  group_search_base_dn  = "OU=Groups,DC=domainname,DC=com"
  ldap_or_ad            = "AD"
  objectfilter          = "(&(objectCategory=person)(objectClass=user))"
  account_attribute     = "[CUSTOMPROPERTY1::CN#String,CUSTOMPROPERTY2::userPrincipalName#String,LASTLOGONDATE::lastLogon#millisec,DISPLAYNAME::displayName#String,CUSTOMPROPERTY25::company#String,CUSTOMPROPERTY3::sn#String,COMMENTS::distinguishedName#String,CUSTOMPROPERTY4::homeDirectory#String,LASTPASSWORDCHANGE::pwdLastSet#millisec,CUSTOMPROPERTY5::co#String,CUSTOMPROPERTY6::cn#String,CUSTOMPROPERTY7::givenName#String,CUSTOMPROPERTY8::title#String,CUSTOMPROPERTY9::telephoneNumber#String,CUSTOMPROPERTY10::c#String,DESCRIPTION::description#String,CUSTOMPROPERTY11::uSNCreated#String,VALIDTHROUGH::accountExpires#millisec,CUSTOMPROPERTY12::logonCount#String,CUSTOMPROPERTY13::physicalDeliveryOfficeName#String,UPDATEDATE::whenChanged#date,CUSTOMPROPERTY14::extensionAttribute1#String,CUSTOMPROPERTY15::extensionAttribute2#String,CUSTOMPROPERTY16::streetAddress#String,CUSTOMPROPERTY17::mailNickname#String,CUSTOMPROPERTY18::department#String,CUSTOMPROPERTY19::countryCode#String,NAME::name#String,CUSTOMPROPERTY21::manager#String,CUSTOMPROPERTY22::homePhone#String,CUSTOMPROPERTY23::mobile#String,CREATED_ON::whenCreated#date,ACCOUNTCLASS::objectClass#String,ACCOUNTID::distinguishedName#String,CUSTOMPROPERTY24::userAccountControl#String,STATUS::userAccountControl#Number,CUSTOMPROPERTY26::objectGUID#Binary,CUSTOMPROPERTY27::objectSid#Binary]"
  entitlement_attribute = "memberOf"
  page_size             = "1000"
  user_attribute        = "[CUSTOMPROPERTY1::CN#String,USERNAME::name#String,DISPLAYNAME::displayName#String,CUSTOMPROPERTY25::company#String,CUSTOMPROPERTY3::sn#String,COMMENTS::distinguishedName#String,CUSTOMPROPERTY4::homeDirectory#String,CUSTOMPROPERTY5::co#String,CUSTOMPROPERTY6::cn#String,CUSTOMPROPERTY7::givenName#String,CUSTOMPROPERTY8::title#String,CUSTOMPROPERTY9::telephoneNumber#String,CUSTOMPROPERTY10::c#String,CUSTOMPROPERTY11::uSNCreated#String,ENDDATE::accountExpires#millisec,CUSTOMPROPERTY12::logonCount#String,CUSTOMPROPERTY13::physicalDeliveryOfficeName#String,UPDATEDATE::whenChanged#date,CUSTOMPROPERTY14::extensionAttribute1#String,CUSTOMPROPERTY15::extensionAttribute2#String,CUSTOMPROPERTY16::streetAddress#String,CUSTOMPROPERTY17::mailNickname#String,CUSTOMPROPERTY18::department#String,CUSTOMPROPERTY19::countryCode#String,CUSTOMPROPERTY2::sAMAccountName#String,CUSTOMPROPERTY20::userPrincipalName#String,CUSTOMPROPERTY21::manager#String,CUSTOMPROPERTY22::homePhone#String,CUSTOMPROPERTY23::mobile#String,CREATEDATE::whenCreated#date,customproperty24::userAccountControl#String,STATUSKEY::userAccountControl#Number]"
  filter                = "(sAMAccountName=*-adm)"
  endpoints_filter      = jsonencode({ AD_Child = [{ memberOf = ["CN=ADGroup15,DC=domainname,DC=com"] }] })
  create_account_json = jsonencode(
    { samaccountname = "$${task.accountName}", sn = "$${user.lastname}", displayName = "$${user.displayname}", cn = "$${cn}", objectclass = ["top", "person", "organizationalPerson", "user"], userAccountControl = "544", givenName = "$${user.firstname}", name = "$${user.displayname}" }
  )
  import_json = jsonencode(
    {
      envproperties = {
        "com.sun.jndi.ldap.connect.timeout" = "10000",
        "com.sun.jndi.ldap.read.timeout"    = "50000"
      }
  })
  advsearch = jsonencode(
    {
      params = [{
        name     = "uid",
        label    = "User ID",
        REQUIRED = false,
        FILTER   = true,
        ENDPOINT = "TestEndpoint"
        },
        {
          name  = "numofrecord",
          label = "NUMBER OF RECORD PER PAGE",
          value = "10"
      }]
  })
  check_for_unique = jsonencode(
    {
      userPrincipalName = "$${user.firstname}.$${user.lastname}@company.com###$${user.firstname}.$${user.lastname}1@company.com"
    }
  )
  incremental_config = jsonencode({
    incrementalImportType   = "NotUsed"
    changeLogBase           = "OU=TestOU,DC=domainname,DC=com"
    changeNumberFilter      = "&(changeNumber>=##MAX_CHANGENUMBER##)(targetDN=*OU=TestOU,DC=domainname,DC=com*)"
    dnAttributeName         = "targetDn"
    dnAttributeNameMappedTo = "username"
    changeNumberAttrName    = "uSNChanged"
    changeTypeAttrName      = "changeType"
    changedFeildsInScope    = "status,CUSTOMPROPERTY1,CUSTOMPROPERTY2,LASTLOGONDATE,DISPLAYNAME,CUSTOMPROPERTY25,CUSTOMPROPERTY3,COMMENTS,CUSTOMPROPERTY4,CUSTOMPROPERTY5,CUSTOMPROPERTY6,CUSTOMPROPERTY7,CUSTOMPROPERTY8,CUSTOMPROPERTY9,DESCRIPTION,CUSTOMPROPERTY14,CUSTOMPROPERTY15,CUSTOMPROPERTY16,CUSTOMPROPERTY17,CUSTOMPROPERTY18,NAME,CUSTOMPROPERTY20,CREATED_ON,ACCOUNTCLASS,customProperty29,dummy"
    changesLogAttrName      = "changes"
    searchAttribute         = "entrydn"
    searchOn                = "rdn"
  })
  reuse_account_json = jsonencode(
    {
      ATTRIBUTESTOCHECK = {
        userAccountControl = "514",
        sn                 = "$${user.lastname}",
      cn = "$${user.fistname}" },
      REUSEACCOUNTOU = "OU=ActiveUsers,DC=domainname,DC=com"
  })
  reset_and_change_passwrd_json = jsonencode({
    RESET = {
      pwdLastSet = "0"
      title      = "password reset"
    }
    CHANGE = {
      pwdLastSet = "-1"
      title      = "password changed"
    }
  })
  update_account_json = jsonencode({
    department = "$${user.departmentname ?: null}",
    division   = "$${user.siteid ?: null}"
  })
  update_user_json = jsonencode({
    sn = "$${user.lastname}"
  })
  enable_account_json = jsonencode({
    USEDNFROMACCOUNT = "YES",
    MOVEDN           = "NO",
    REMOVEGROUPS     = "NO",
    ENABLEACCOUNTOU  = "CN=Users,DC=corp,DC=AD,DC=com",
    AFTERMOVEACTIONS = {
      userAccountControl = "544",
      otherMailbox = [
        "$${user?.customproperty15.toString().replace(',','\",\"')}"
      ]
    }
  })
  reuse_inactive_account = "TRUE"
  account_name_rule      = "CN=$${user.username},CN=Users,DC=corp,DC=AD,DC=com"
  remove_account_action  = jsonencode({ removeAction = "SUSPEND", userAccountControl = "546" })
  set_random_password    = "FALSE"
  password_min_length    = "2"
  password_max_length    = "2"
  password_noofcapsalpha = "2"
  password_noofsplchars  = "2"
  password_noofdigits    = "2"
  group_import_mapping = jsonencode({
    importGroupHierarchy       = "true",
    entitlementTypeName        = "",
    performGroupAccountLinking = "true",
    incrementalTimeField       = "whenChanged",
    groupObjectClass           = "(objectclass=group)",
    mapping                    = "memberHash:member_char,customproperty1:sAMAccountType_char,customproperty16:memberOf_char,customproperty2:instanceType_char, customproperty3:uSNCreated_char,customproperty4:groupType_char,customproperty5:dSCorePropagationData_char,customproperty12:dn_char,customproperty13:cn_char,lastscandate:whenCreated_date,customproperty15:managedBy_char,entitlement_glossary:description_char,customproperty9:name_char,customproperty10:objectCategory_char,customproperty11:sAMAccountName_char,customproperty14:objectClass_char,status:isCriticalSystemObject_char,entitlement_value:distinguishedName_char,entitlementid:objectGUID_Binary,customproperty17:distinguishedName_char,updatedate:whenChanged_date,RECONCILATION_FIELD:entitlementid",
    entitlementOwnerAttribute  = "managedBy",
    tableFieldAttribute        = "COMMENTS"
  })
  create_update_mappings = "{\"cn\":\"$${role?.customproperty27}\",\"objectCategory\":\"CN=Group,CN=Schema,CN=Configuration,DC=corp,DC=domainname,DC=com\",\"distinguishedName\":\"$${role?.role_name}\",\"displayName\":\"$${role?.displayname}\",\"SamAccountName\":\"$${role?.customproperty27}\",\"description\":\"$${role?.description}\",\"objectClass\":\"group\",\"name\":\"$${role?.customproperty27}\",\"managedBy\":\"$${user?.comments}\"}"
  max_changenumber       = "1000"
  support_empty_string   = "TRUE"
  status_key_json = jsonencode({
    STATUS_ACTIVE = [
      "1", "ACTIVE", "true", "512", "544"
    ],
    STATUS_INACTIVE = [
      "0", "INACTIVE", "false", "546", "514"
    ]
  })
  status_threshold_config = jsonencode({
    statusAndThresholdConfig = {
      statusColumn                = "customproperty24",
      activeStatus                = ["512", "544"],
      deleteLinks                 = false,
      accountThresholdValue       = 1000,
      correlateInactiveAccounts   = true,
      inactivateAccountsNotInFile = false
    }
  })
  disable_account_json = jsonencode({
    userAccountControl = "546",
    deleteAllGroups    = "No"
  })
  config_json = jsonencode({
    connectionTimeoutConfig = {
      connectionTimeout = 10,
      readTimeout       = 50,
      retryWait         = 2,
      retryCount        = 3
    },
    ldapPolicy = {
      enforceNonLeafSearchContext = true
    }
  })
  read_operational_attributes = "FALSE"
  enforce_tree_deletion       = "FALSE"
  dc_locator                  = "Win-DC-Locator"
  _user_data_json = jsonencode({
    COMPUTEDCOLUMNS   = ["DISPLAYNAME"],
    PREPROCESSQUERIES = ["UPDATE NEWUSERDATA SET DISPLAYNAME=city"]
  })
  advance_filter_json = jsonencode({
    AdvanceFilter = {
      "OU=Employees,DC=domainname,DC=com" = [
        "(&(objectCategory=person)(objectClass=user)(department=PM))"
      ]
      "OU=Vendors,DC=domainname,DC=com" = [
        "(&(objectCategory=person)(objectClass=user)(department=Vendor))"
      ]
    }
  })
  org_base = "DC=domainname,DC=com"
  organization_attribute = jsonencode({
    mapping = "CUSTOMERNAME::ou#String,CUSTOMPROPERTY1::name#String,CUSTOMPROPERTY11::whenChanged#String,CUSTOMPROPERTY2::st#String,CUSTOMPROPERTY3::postBoxOffice#String,CUSTOMPROPERTY4::postalAddress#String,CUSTOMPROPERTY5::postalCode#String,CUSTOMPROPERTY6::cn#String,DESCRIPTION::description#String,CREATEDATE::whenCreated#date,UPDATEDATE::whenChanged#date,ENTITYCLASS::objectClass#String,RECONCILATION_FIELD::CUSTOMPROPERTY10,CUSTOMPROPERTY10::objectGUID#Binary,CUSTOMERTYPE::1#SavData,STATUS::1#SavData,RISK::0#SavData,SCORE::0#SavData"
    attributes = [
      {
        name    = "locality"
        filter  = ["(L=*)"]
        mapping = "description#string,displayName#String,street#String"
      }
    ]
  })
  create_org_json = jsonencode(
    {
      name           = "$${customer.customername}"
      objectClass    = ["top", "organization"]
      objectCategory = "CN=Organization,CN=Schema,CN=Configuration,DC=domainname,DC=com"
      o              = "$${customer.customername}"
      description    = "$${customer.description}"
      attributes = [
        {
          name    = "locality"
          filter  = ["(L=*)"]
          mapping = "street,postalAddress"
        }
      ]
    }
  )
  update_org_json = jsonencode({
    o           = "$${customer.customername}"
    description = "$${customer.description}"
    attributes = [
      {
        name    = "locality"
        filter  = ["(L=*)"]
        mapping = "street,postalAddress"
      }
    ]
  })
  enable_group_management = "TRUE"
  unlock_account_json = jsonencode(
    {
      lockoutTime = "0"
    }
  )
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `connection_name` (String) Name of the connection. Example: "Active Directory_Doc"
- `password` (String) Set the Password.

### Optional

- `account_attribute` (String) Mapping for LDAP user to EIC account attribute. Example: '["ACCOUNTID::objectGUID#Binary", "NAME::sAMAccountName#String", ...]'
- `account_name_rule` (String) Rule to generate account name. Example: "uid=${task.accountName.toString().toLowerCase()},ou=People,dc=racf,dc=com"
- `advance_filter_json` (String) Advanced filter JSON configuration.
- `advsearch` (String) Advanced search settings.
- `base` (String) LDAP base DN. Example: "CN=Users,DC=Saviynt,DC=ABC,DC=Com"
- `check_for_unique` (String) Uniqueness validation rule JSON. Example: '{"sAMAccountName":"${task.accountName}"}'
- `config_json` (String) JSON for connection timeout configuration. Example: '{"connectionTimeoutConfig":{"connectionTimeout":10,"readTimeout":50,"retryWait":2,"retryCount":3}}'
- `connection_type` (String) Connection type (e.g., 'AD' for Active Directory). Example: "AD"
- `create_account_json` (String) JSON to create an account. Example: '{"cn":"${cn}","displayname":"${user.displayname}", ...}'
- `create_org_json` (String) JSON for organization creation.
- `create_update_mappings` (String) Mapping for group creation/updation (JSON string). Example: '{"cn":"${role?.customproperty27}","objectCategory":"CN=Group,CN=Schema,CN=Configuration,...}'
- `dc_locator` (String) Domain controller locator.
- `default_user_role` (String) Default SAV Role for imported users. Example: "ROLE_TASK_ADMIN"
- `defaultsavroles` (String) Default SAV roles for managing the connection. Example: "ROLE_ORG"
- `description` (String) Description for the connection. Example: "ORG_AD"
- `disable_account_json` (String) JSON to disable an account. Example: '{"userAccountControl":"546", ...}'
- `email_template` (String) Email template for notifications. Example: "New Account Task Creation"
- `enable_account_json` (String) JSON configuration to enable account actions. Example: '{"USEDNFROMACCOUNT":"NO", ...}'
- `enable_group_management` (String) Enable group management. Example: "TRUE"
- `endpoints_filter` (String) Configuration for child endpoints.
- `enforce_tree_deletion` (String) Enforce tree deletion flag. Example: "TRUE"
- `entitlement_attribute` (String) Attribute used for entitlements. Example: "memberOf"
- `error_code` (String) An error code where '0' signifies success and '1' signifies an unsuccessful operation.
- `filter` (String) Simple filter string.
- `group_import_mapping` (String) JSON mapping for LDAP groups. Example: '{"entitlementTypeName":"memberOf", ...}'
- `group_search_base_dn` (String) Base DN for group search. Example: "CN=Users,DC=Saviynt,DC=ABC,DC=Com"
- `import_json` (String) JSON import configuration. Example: '{"envproperties":{"com.sun.jndi.ldap.connect.timeout":"10000",...}}'
- `incremental_config` (String) Incremental import configuration.
- `ldap_or_ad` (String) Type of Endpoint - LDAP or AD. Default is 'AD'. Example: "AD"
- `max_changenumber` (String) Maximum change number. Example: "4"
- `modify_user_data_json` (String) JSON for inline user data transformation.
- `msg` (String) A message indicating the outcome of the operation.
- `objectfilter` (String) LDAP object filter. Example: "(objectClass=inetorgperson)"
- `org_base` (String) Organization BASE for provisioning.
- `org_import_json` (String) JSON for organization import configuration.
- `organization_attribute` (String) Organization attributes.
- `page_size` (String) LDAP page size. Example: "1000"
- `pam_config` (String) JSON for PAM bootstrap configuration. Example: '{"Connection":"AD",...}'
- `password_max_length` (String) Maximum password length. Example: "12"
- `password_min_length` (String) Minimum password length. Example: "8"
- `password_noofcapsalpha` (String) Number of capital letters required. Example: "2"
- `password_noofdigits` (String) Number of digits required. Example: "5"
- `password_noofsplchars` (String) Number of special characters required. Example: "1"
- `read_operational_attributes` (String) Flag for reading operational attributes. Example: "FALSE"
- `remove_account_action` (String) Action on account removal. Example: '{"removeAction":"DELETE"}'
- `reset_and_change_passwrd_json` (String) JSON for reset/change password actions. Example: '{"RESET":{"pwdLastSet":"0","title":"password reset"},"CHANGE":{"pwdLastSet":"-1","title":"password changed"}}'
- `reuse_account_json` (String) JSON to reuse an account. Example: '{"ATTRIBUTESTOCHECK":{"userAccountControl":"514",...}}'
- `reuse_inactive_account` (String) Reuse inactive account flag. Example: "TRUE"
- `save_in_vault` (String) Flag indicating whether the encrypted attribute should be saved in the configured vault. Example: "false"
- `searchfilter` (String) LDAP search filter for users. Example: "OU=Users,DC=domainname,DC=com"
- `set_random_password` (String) Option to set a random password.
- `setdefaultpagesize` (String) Default page size setting. Example: "FALSE"
- `status_key_json` (String) JSON for account status keys. Example: '{"STATUS_ACTIVE":["512","544"], ...}'
- `status_threshold_config` (String) JSON configuration for status thresholds. Example: '{"statusAndThresholdConfig":{...}}'
- `support_empty_string` (String) Flag for sending empty values. Example: "FALSE"
- `unlock_account_json` (String) JSON to unlock accounts. Example: '{"lockoutTime":"0"}'
- `update_account_json` (String) JSON to update an account. Example: '{"uid":"${task.accountName.toString().toLowerCase()}", ...}'
- `update_org_json` (String) JSON for organization update.
- `update_user_json` (String) JSON to update a user. Example: '{"mail":"${user.email}", ...}'
- `url` (String) LDAP or target system URL. Example: "ldap://uscentral.com:8972/"
- `user_attribute` (String) Mapping for LDAP user to EIC user attribute. Example: '["USERNAME::sAMAccountName#String", ...]'
- `username` (String) System admin username.
- `vault_configuration` (String) JSON string specifying vault configuration. Example: '{"path":"/secrets/data/kv-dev-intgn1/-AD_Credential","keyMapping":{"PASSWORD":"AD_PASSWORD~#~None"}}'
- `vault_connection` (String) Specifies the type of vault connection being used (e.g., 'Hashicorp'). Example: "Hashicorp"

### Read-Only

- `connection_key` (Number) Unique identifier of the connection returned by the API. Example: 1909
- `id` (String, Sensitive) Resource ID.

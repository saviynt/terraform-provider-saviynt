{
    "create": {
      "connection_type":        "DB",
      "connection_name":        "Terraform_DB_Connector",
      "url":                    "$${var.URL}",
      "username":               "$${var.USERNAME}",
      "password":               "$${var.PASSWORD}",
      "driver_name":            "$${var.DRIVERNAME}",
      "create_account_json": {
        "CreateAccountQry": [
          "INSERT INTO mysqllocal.users(username, firstname, lastname, statuskey, departmentname, displayname, manager, orgunitID, enabled, password, updatedate) VALUES ($${user.username}, $${user.firstname}, $${user.lastname}, $${user.statuskey}, $${user.departmentname}, $${user.displayname}, $${user.manager}, $${user.orgunitID}, $${user.enabled}, $${user.password}, CURRENT_TIMESTAMP)",
          "INSERT INTO mysqllocal.accounts(AccountName, EntitlementType, EntitlementValue, Status, UPDATEDATE) VALUES ($${user.username}, 'DEFAULT', 'BASE_ACCESS', 1, CURRENT_TIMESTAMP)"
        ]
      },
      "update_account_json": {
        "UpdateAccountQry": [
          "UPDATE mysqllocal.users SET firstname = $${user.firstname}, lastname = $${user.lastname}, departmentname = $${user.departmentname}, displayname = $${user.displayname}, manager = $${user.manager}, orgunitID = $${user.orgunitID}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
        ]
      },
      "grant_access_json": {
        "ENTITLEMENT_TYPE1": [
          "INSERT INTO mysqllocal.accounts(AccountName, EntitlementType, EntitlementValue, Status, UPDATEDATE) VALUES($${user.username}, $${entitlement.type}, $${entitlement.value}, 1, CURRENT_TIMESTAMP)"
        ],
        "ROLE_ACCESS": [
          "INSERT INTO mysqllocal.roles(role_name, description, displayname, status, updatedate) VALUES($${role.name}, $${role.description}, $${role.displayname}, 1, CURRENT_TIMESTAMP)"
        ]
      },
      "revoke_access_json": {
        "ENTITLEMENT_TYPE1": [
          "UPDATE mysqllocal.accounts SET Status = 0, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username} AND EntitlementType = $${entitlement.type} AND EntitlementValue = $${entitlement.value}"
        ]
      },
      "change_pass_json": {
        "ChangePasswordQry": [
          "UPDATE mysqllocal.users SET password = $${user.password}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
        ]
      },
      "delete_account_json": {
        "DeleteAccountQry": [
          "DELETE FROM mysqllocal.users WHERE username = $${user.username}",
          "DELETE FROM mysqllocal.accounts WHERE AccountName = $${user.username}"
        ]
      },
      "enable_account_json": {
        "EnableAccountQry": [
          "UPDATE mysqllocal.users SET enabled = 1, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}",
          "UPDATE mysqllocal.accounts SET Status = 1, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username}"
        ]
      },
      "disable_account_json": {
        "DisableAccountQry": [
          "UPDATE mysqllocal.users SET enabled = 0, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}",
          "UPDATE mysqllocal.accounts SET Status = 0, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username}"
        ]
      },
      "account_exists_json": {
        "AccountExistQry": "SELECT username FROM mysqllocal.users WHERE username = $${user.username}"
      },
      "update_user_json": {
        "UpdateUserQry": [
          "UPDATE mysqllocal.users SET firstname = $${user.firstname}, lastname = $${user.lastname}, departmentname = $${user.departmentname}, displayname = $${user.displayname}, manager = $${user.manager}, orgunitID = $${user.orgunitID}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
        ]
      },
      "accounts_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(*) as count, accountname, 'Test-Data' as endpoint, 'Test-Data' as securitysystem, \"1\" as status,updatedate from mysqllocal.accounts; ]]> </count-query> <sql-query description=\"This is the Source DB Query\" uniquecolumnsascommaseparated=\"name\"> <![CDATA[select accountname,'Test-Data' as securitysystem,'Test-Data' as endpoint,entitlementtype,entitlementvalue,status,updatedate from mysqllocal.accounts]]> </sql-query> <incrementalcondition> <![CDATA['$${incrementalcolmaxval.format(\"yyy-mm-dd hh:mm:ss\")}']]> </incrementalcondition> <mapper description=\"This is the mapping field for Saviynt Field name\" accountnotinfileaction=\"Suspend\" deleteaccountentitlement=\"true\" ifusernotexists=\"noaction\" incrementalcolumn=\"accounts.UPDATEDATE\" systems=\"'Test-Data'\"> <mapfield saviyntproperty=\"accounts.name\" sourceproperty=\"accountName\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"securitysystems.systemname\" sourceproperty=\"securitysystem\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"endpoints.endpointname\" sourceproperty=\"endpoint\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementtypes.entitlementname\" sourceproperty=\"entitlementtype\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlementvalue\" sourceproperty=\"entitlementvalue\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"accounts.status\" sourceproperty=\"status\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"accounts.customproperty25\" sourceproperty=\"updatedate\" type=\"date\"/> </mapper> </dataMapping>",
      "entitlement_value_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(*) as count, endpointname,owner, 'Test-Data' as endpoint, 'Test-Data' as securitysystem, \"1\" as status from mysqllocal.accounts; ]]> </count-query> <sql-query description=\"This is the Source Database Query\"> <![CDATA[select 'Test-Data' as systemname,dataowner1,'Test-Data' as endpointname,entitlementtype,entitlementvalue,entID,1 as status from mysqllocal.entitlements]]> </sql-query> <mapper description=\"This is the mapping field for Saviynt Field name\" deleteentitlementowner=\"true\" entnotpresentaction=\"noaction\" createentitlementtype=\"true\" systems=\"'Test-Data'\"> <mapfield saviyntproperty=\"securitysystems.systemname\" sourceproperty=\"systemname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"endpoints.endpointname\" sourceproperty=\"endpointname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementtypes.entitlementname\" sourceproperty=\"entitlementtype\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlement_value\" sourceproperty=\"entitlementvalue\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlementID\" sourceproperty=\"entID\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.status\" sourceproperty=\"status\" type=\"number\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entowner1\" sourceproperty=\"dataowner1\" type=\"number\"></mapfield> </mapper> </dataMapping>",
      "user_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(username) as count from mysqllocal.users; ]]> </count-query> <sql-query description=\"This is the Source DB Query\"> <![CDATA[select username,'Test-Data' as endpoint,firstname,lastname, statuskey from mysqllocal.users;]]> </sql-query> <importsettings> <zeroDayProvisioning>false</zeroDayProvisioning> <generateEmail>true</generateEmail> <userNotInFileAction>NOACTION</userNotInFileAction> <checkRules>false</checkRules> <buildUserMap>false</buildUserMap> <generateSystemUsername>false</generateSystemUsername> <userOperationsAllowed>CREATE,UPDATE</userOperationsAllowed> <userReconcillationField>username</userReconcillationField> </importsettings> <mapper description=\"This is the mapping field for Saviynt Field name\"> <mapfield saviyntproperty=\"users.username\" sourceproperty=\"username\" type=\"character\"/> <mapfield saviyntproperty=\"users.firstname\" sourceproperty=\"firstname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"users.lastname\" sourceproperty=\"lastname\" type=\"character\"></mapfield> </mapper> </dataMapping>"
    },
    "update": {
        "connection_type":        "DB",
        "connection_name":        "Terraform_DB_Connector",
        "url":                    "$${var.URL}",
        "username":               "$${var.USERNAME}",
        "password":               "$${var.PASSWORD}",
        "driver_name":            "$${var.DRIVERNAME}",
        "create_account_json": {
          "CreateAccountQry": [
            "INSERT INTO mysqllocal.users(username1, firstname1, lastname1, statuskey, departmentname, displayname, manager, orgunitID, enabled, password, updatedate) VALUES ($${user.username}, $${user.firstname}, $${user.lastname}, $${user.statuskey}, $${user.departmentname}, $${user.displayname}, $${user.manager}, $${user.orgunitID}, $${user.enabled}, $${user.password}, CURRENT_TIMESTAMP)",
            "INSERT INTO mysqllocal.accounts(AccountName, EntitlementType, EntitlementValue, Status, UPDATEDATE) VALUES ($${user.username}, 'DEFAULT', 'BASE_ACCESS', 1, CURRENT_TIMESTAMP)"
          ]
        },
        "update_account_json": {
          "UpdateAccountQry": [
            "UPDATE mysqllocal.users SET firstname = $${user.firstname}, lastname = $${user.lastname}, departmentname = $${user.departmentname}, displayname = $${user.displayname}, manager = $${user.manager}, orgunitID = $${user.orgunitID}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "grant_access_json": {
          "ENTITLEMENT_TYPE1": [
            "INSERT INTO mysqllocal.accounts(AccountName, EntitlementType, EntitlementValue, Status, UPDATEDATE) VALUES($${user.username}, $${entitlement.type}, $${entitlement.value}, 1, CURRENT_TIMESTAMP)"
          ],
          "ROLE_ACCESS": [
            "INSERT INTO mysqllocal.roles(role_name, description, displayname, status, updatedate) VALUES($${role.name}, $${role.description}, $${role.displayname}, 1, CURRENT_TIMESTAMP)"
          ]
        },
        "revoke_access_json": {
          "ENTITLEMENT_TYPE1": [
            "UPDATE mysqllocal.accounts SET Status = 0, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username} AND EntitlementType = $${entitlement.type} AND EntitlementValue = $${entitlement.value}"
          ]
        },
        "change_pass_json": {
          "ChangePasswordQry": [
            "UPDATE mysqllocal.users SET password = $${user.password}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "delete_account_json": {
          "DeleteAccountQry": [
            "DELETE FROM mysqllocal.users WHERE username = $${user.username}",
            "DELETE FROM mysqllocal.accounts WHERE AccountName = $${user.username}"
          ]
        },
        "enable_account_json": {
          "EnableAccountQry": [
            "UPDATE mysqllocal.users SET enabled = 1, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}",
            "UPDATE mysqllocal.accounts SET Status = 1, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username}"
          ]
        },
        "disable_account_json": {
          "DisableAccountQry": [
            "UPDATE mysqllocal.users SET enabled = 0, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}",
            "UPDATE mysqllocal.accounts SET Status = 0, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username}"
          ]
        },
        "account_exists_json": {
          "AccountExistQry": "SELECT username FROM mysqllocal.users WHERE username = $${user.username}"
        },
        "update_user_json": {
          "UpdateUserQry": [
            "UPDATE mysqllocal.users SET firstname = $${user.firstname}, lastname = $${user.lastname}, departmentname = $${user.departmentname}, displayname = $${user.displayname}, manager = $${user.manager}, orgunitID = $${user.orgunitID}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "accounts_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(*) as count, accountname, 'Test-Data' as endpoint, 'Test-Data' as securitysystem, \"1\" as status,updatedate from mysqllocal.accounts; ]]> </count-query> <sql-query description=\"This is the Source DB Query\" uniquecolumnsascommaseparated=\"name\"> <![CDATA[select accountname,'Test-Data' as securitysystem,'Test-Data' as endpoint,entitlementtype,entitlementvalue,status,updatedate from mysqllocal.accounts]]> </sql-query> <incrementalcondition> <![CDATA['$${incrementalcolmaxval.format(\"yyy-mm-dd hh:mm:ss\")}']]> </incrementalcondition> <mapper description=\"This is the mapping field for Saviynt Field name\" accountnotinfileaction=\"Suspend\" deleteaccountentitlement=\"true\" ifusernotexists=\"noaction\" incrementalcolumn=\"accounts.UPDATEDATE\" systems=\"'Test-Data'\"> <mapfield saviyntproperty=\"accounts.name\" sourceproperty=\"accountName\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"securitysystems.systemname\" sourceproperty=\"securitysystem\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"endpoints.endpointname\" sourceproperty=\"endpoint\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementtypes.entitlementname\" sourceproperty=\"entitlementtype\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlementvalue\" sourceproperty=\"entitlementvalue\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"accounts.status\" sourceproperty=\"status\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"accounts.customproperty25\" sourceproperty=\"updatedate\" type=\"date\"/> </mapper> </dataMapping>",
        "entitlement_value_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(*) as count, endpointname,owner, 'Test-Data' as endpoint, 'Test-Data' as securitysystem, \"1\" as status from mysqllocal.accounts; ]]> </count-query> <sql-query description=\"This is the Source Database Query\"> <![CDATA[select 'Test-Data' as systemname,dataowner1,'Test-Data' as endpointname,entitlementtype,entitlementvalue,entID,1 as status from mysqllocal.entitlements]]> </sql-query> <mapper description=\"This is the mapping field for Saviynt Field name\" deleteentitlementowner=\"true\" entnotpresentaction=\"noaction\" createentitlementtype=\"true\" systems=\"'Test-Data'\"> <mapfield saviyntproperty=\"securitysystems.systemname\" sourceproperty=\"systemname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"endpoints.endpointname\" sourceproperty=\"endpointname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementtypes.entitlementname\" sourceproperty=\"entitlementtype\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlement_value\" sourceproperty=\"entitlementvalue\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlementID\" sourceproperty=\"entID\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.status\" sourceproperty=\"status\" type=\"number\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entowner1\" sourceproperty=\"dataowner1\" type=\"number\"></mapfield> </mapper> </dataMapping>",
        "user_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(username) as count from mysqllocal.users; ]]> </count-query> <sql-query description=\"This is the Source DB Query\"> <![CDATA[select username,'Test-Data' as endpoint,firstname,lastname, statuskey from mysqllocal.users;]]> </sql-query> <importsettings> <zeroDayProvisioning>false</zeroDayProvisioning> <generateEmail>true</generateEmail> <userNotInFileAction>NOACTION</userNotInFileAction> <checkRules>false</checkRules> <buildUserMap>false</buildUserMap> <generateSystemUsername>false</generateSystemUsername> <userOperationsAllowed>CREATE,UPDATE</userOperationsAllowed> <userReconcillationField>username</userReconcillationField> </importsettings> <mapper description=\"This is the mapping field for Saviynt Field name\"> <mapfield saviyntproperty=\"users.username\" sourceproperty=\"username\" type=\"character\"/> <mapfield saviyntproperty=\"users.firstname\" sourceproperty=\"firstname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"users.lastname\" sourceproperty=\"lastname\" type=\"character\"></mapfield> </mapper> </dataMapping>"
      },
      "update_connection_name": {
        "connection_type":        "DB",
        "connection_name":        "Terraform_DB_Connector_1",
        "url":                    "$${var.URL}",
        "username":               "$${var.USERNAME}",
        "password":               "$${var.PASSWORD}",
        "driver_name":            "$${var.DRIVERNAME}",
        "create_account_json": {
          "CreateAccountQry": [
            "INSERT INTO mysqllocal.users(username, firstname, lastname, statuskey, departmentname, displayname, manager, orgunitID, enabled, password, updatedate) VALUES ($${user.username}, $${user.firstname}, $${user.lastname}, $${user.statuskey}, $${user.departmentname}, $${user.displayname}, $${user.manager}, $${user.orgunitID}, $${user.enabled}, $${user.password}, CURRENT_TIMESTAMP)",
            "INSERT INTO mysqllocal.accounts(AccountName, EntitlementType, EntitlementValue, Status, UPDATEDATE) VALUES ($${user.username}, 'DEFAULT', 'BASE_ACCESS', 1, CURRENT_TIMESTAMP)"
          ]
        },
        "update_account_json": {
          "UpdateAccountQry": [
            "UPDATE mysqllocal.users SET firstname = $${user.firstname}, lastname = $${user.lastname}, departmentname = $${user.departmentname}, displayname = $${user.displayname}, manager = $${user.manager}, orgunitID = $${user.orgunitID}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "grant_access_json": {
          "ENTITLEMENT_TYPE1": [
            "INSERT INTO mysqllocal.accounts(AccountName, EntitlementType, EntitlementValue, Status, UPDATEDATE) VALUES($${user.username}, $${entitlement.type}, $${entitlement.value}, 1, CURRENT_TIMESTAMP)"
          ],
          "ROLE_ACCESS": [
            "INSERT INTO mysqllocal.roles(role_name, description, displayname, status, updatedate) VALUES($${role.name}, $${role.description}, $${role.displayname}, 1, CURRENT_TIMESTAMP)"
          ]
        },
        "revoke_access_json": {
          "ENTITLEMENT_TYPE1": [
            "UPDATE mysqllocal.accounts SET Status = 0, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username} AND EntitlementType = $${entitlement.type} AND EntitlementValue = $${entitlement.value}"
          ]
        },
        "change_pass_json": {
          "ChangePasswordQry": [
            "UPDATE mysqllocal.users SET password = $${user.password}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "delete_account_json": {
          "DeleteAccountQry": [
            "DELETE FROM mysqllocal.users WHERE username = $${user.username}",
            "DELETE FROM mysqllocal.accounts WHERE AccountName = $${user.username}"
          ]
        },
        "enable_account_json": {
          "EnableAccountQry": [
            "UPDATE mysqllocal.users SET enabled = 1, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}",
            "UPDATE mysqllocal.accounts SET Status = 1, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username}"
          ]
        },
        "disable_account_json": {
          "DisableAccountQry": [
            "UPDATE mysqllocal.users SET enabled = 0, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}",
            "UPDATE mysqllocal.accounts SET Status = 0, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username}"
          ]
        },
        "account_exists_json": {
          "AccountExistQry": "SELECT username FROM mysqllocal.users WHERE username = $${user.username}"
        },
        "update_user_json": {
          "UpdateUserQry": [
            "UPDATE mysqllocal.users SET firstname = $${user.firstname}, lastname = $${user.lastname}, departmentname = $${user.departmentname}, displayname = $${user.displayname}, manager = $${user.manager}, orgunitID = $${user.orgunitID}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "accounts_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(*) as count, accountname, 'Test-Data' as endpoint, 'Test-Data' as securitysystem, \"1\" as status,updatedate from mysqllocal.accounts; ]]> </count-query> <sql-query description=\"This is the Source DB Query\" uniquecolumnsascommaseparated=\"name\"> <![CDATA[select accountname,'Test-Data' as securitysystem,'Test-Data' as endpoint,entitlementtype,entitlementvalue,status,updatedate from mysqllocal.accounts]]> </sql-query> <incrementalcondition> <![CDATA['$${incrementalcolmaxval.format(\"yyy-mm-dd hh:mm:ss\")}']]> </incrementalcondition> <mapper description=\"This is the mapping field for Saviynt Field name\" accountnotinfileaction=\"Suspend\" deleteaccountentitlement=\"true\" ifusernotexists=\"noaction\" incrementalcolumn=\"accounts.UPDATEDATE\" systems=\"'Test-Data'\"> <mapfield saviyntproperty=\"accounts.name\" sourceproperty=\"accountName\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"securitysystems.systemname\" sourceproperty=\"securitysystem\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"endpoints.endpointname\" sourceproperty=\"endpoint\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementtypes.entitlementname\" sourceproperty=\"entitlementtype\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlementvalue\" sourceproperty=\"entitlementvalue\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"accounts.status\" sourceproperty=\"status\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"accounts.customproperty25\" sourceproperty=\"updatedate\" type=\"date\"/> </mapper> </dataMapping>",
        "entitlement_value_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(*) as count, endpointname,owner, 'Test-Data' as endpoint, 'Test-Data' as securitysystem, \"1\" as status from mysqllocal.accounts; ]]> </count-query> <sql-query description=\"This is the Source Database Query\"> <![CDATA[select 'Test-Data' as systemname,dataowner1,'Test-Data' as endpointname,entitlementtype,entitlementvalue,entID,1 as status from mysqllocal.entitlements]]> </sql-query> <mapper description=\"This is the mapping field for Saviynt Field name\" deleteentitlementowner=\"true\" entnotpresentaction=\"noaction\" createentitlementtype=\"true\" systems=\"'Test-Data'\"> <mapfield saviyntproperty=\"securitysystems.systemname\" sourceproperty=\"systemname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"endpoints.endpointname\" sourceproperty=\"endpointname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementtypes.entitlementname\" sourceproperty=\"entitlementtype\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlement_value\" sourceproperty=\"entitlementvalue\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlementID\" sourceproperty=\"entID\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.status\" sourceproperty=\"status\" type=\"number\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entowner1\" sourceproperty=\"dataowner1\" type=\"number\"></mapfield> </mapper> </dataMapping>",
        "user_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(username) as count from mysqllocal.users; ]]> </count-query> <sql-query description=\"This is the Source DB Query\"> <![CDATA[select username,'Test-Data' as endpoint,firstname,lastname, statuskey from mysqllocal.users;]]> </sql-query> <importsettings> <zeroDayProvisioning>false</zeroDayProvisioning> <generateEmail>true</generateEmail> <userNotInFileAction>NOACTION</userNotInFileAction> <checkRules>false</checkRules> <buildUserMap>false</buildUserMap> <generateSystemUsername>false</generateSystemUsername> <userOperationsAllowed>CREATE,UPDATE</userOperationsAllowed> <userReconcillationField>username</userReconcillationField> </importsettings> <mapper description=\"This is the mapping field for Saviynt Field name\"> <mapfield saviyntproperty=\"users.username\" sourceproperty=\"username\" type=\"character\"/> <mapfield saviyntproperty=\"users.firstname\" sourceproperty=\"firstname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"users.lastname\" sourceproperty=\"lastname\" type=\"character\"></mapfield> </mapper> </dataMapping>"
      },
      "update_connection_type": {
        "connection_type":        "ADSI",
        "connection_name":        "Terraform_DB_Connector",
        "url":                    "$${var.URL}",
        "username":               "$${var.USERNAME}",
        "password":               "$${var.PASSWORD}",
        "driver_name":            "$${var.DRIVERNAME}",
        "create_account_json": {
          "CreateAccountQry": [
            "INSERT INTO mysqllocal.users(username, firstname, lastname, statuskey, departmentname, displayname, manager, orgunitID, enabled, password, updatedate) VALUES ($${user.username}, $${user.firstname}, $${user.lastname}, $${user.statuskey}, $${user.departmentname}, $${user.displayname}, $${user.manager}, $${user.orgunitID}, $${user.enabled}, $${user.password}, CURRENT_TIMESTAMP)",
            "INSERT INTO mysqllocal.accounts(AccountName, EntitlementType, EntitlementValue, Status, UPDATEDATE) VALUES ($${user.username}, 'DEFAULT', 'BASE_ACCESS', 1, CURRENT_TIMESTAMP)"
          ]
        },
        "update_account_json": {
          "UpdateAccountQry": [
            "UPDATE mysqllocal.users SET firstname = $${user.firstname}, lastname = $${user.lastname}, departmentname = $${user.departmentname}, displayname = $${user.displayname}, manager = $${user.manager}, orgunitID = $${user.orgunitID}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "grant_access_json": {
          "ENTITLEMENT_TYPE1": [
            "INSERT INTO mysqllocal.accounts(AccountName, EntitlementType, EntitlementValue, Status, UPDATEDATE) VALUES($${user.username}, $${entitlement.type}, $${entitlement.value}, 1, CURRENT_TIMESTAMP)"
          ],
          "ROLE_ACCESS": [
            "INSERT INTO mysqllocal.roles(role_name, description, displayname, status, updatedate) VALUES($${role.name}, $${role.description}, $${role.displayname}, 1, CURRENT_TIMESTAMP)"
          ]
        },
        "revoke_access_json": {
          "ENTITLEMENT_TYPE1": [
            "UPDATE mysqllocal.accounts SET Status = 0, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username} AND EntitlementType = $${entitlement.type} AND EntitlementValue = $${entitlement.value}"
          ]
        },
        "change_pass_json": {
          "ChangePasswordQry": [
            "UPDATE mysqllocal.users SET password = $${user.password}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "delete_account_json": {
          "DeleteAccountQry": [
            "DELETE FROM mysqllocal.users WHERE username = $${user.username}",
            "DELETE FROM mysqllocal.accounts WHERE AccountName = $${user.username}"
          ]
        },
        "enable_account_json": {
          "EnableAccountQry": [
            "UPDATE mysqllocal.users SET enabled = 1, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}",
            "UPDATE mysqllocal.accounts SET Status = 1, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username}"
          ]
        },
        "disable_account_json": {
          "DisableAccountQry": [
            "UPDATE mysqllocal.users SET enabled = 0, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}",
            "UPDATE mysqllocal.accounts SET Status = 0, UPDATEDATE = CURRENT_TIMESTAMP WHERE AccountName = $${user.username}"
          ]
        },
        "account_exists_json": {
          "AccountExistQry": "SELECT username FROM mysqllocal.users WHERE username = $${user.username}"
        },
        "update_user_json": {
          "UpdateUserQry": [
            "UPDATE mysqllocal.users SET firstname = $${user.firstname}, lastname = $${user.lastname}, departmentname = $${user.departmentname}, displayname = $${user.displayname}, manager = $${user.manager}, orgunitID = $${user.orgunitID}, updatedate = CURRENT_TIMESTAMP WHERE username = $${user.username}"
          ]
        },
        "accounts_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(*) as count, accountname, 'Test-Data' as endpoint, 'Test-Data' as securitysystem, \"1\" as status,updatedate from mysqllocal.accounts; ]]> </count-query> <sql-query description=\"This is the Source DB Query\" uniquecolumnsascommaseparated=\"name\"> <![CDATA[select accountname,'Test-Data' as securitysystem,'Test-Data' as endpoint,entitlementtype,entitlementvalue,status,updatedate from mysqllocal.accounts]]> </sql-query> <incrementalcondition> <![CDATA['$${incrementalcolmaxval.format(\"yyy-mm-dd hh:mm:ss\")}']]> </incrementalcondition> <mapper description=\"This is the mapping field for Saviynt Field name\" accountnotinfileaction=\"Suspend\" deleteaccountentitlement=\"true\" ifusernotexists=\"noaction\" incrementalcolumn=\"accounts.UPDATEDATE\" systems=\"'Test-Data'\"> <mapfield saviyntproperty=\"accounts.name\" sourceproperty=\"accountName\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"securitysystems.systemname\" sourceproperty=\"securitysystem\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"endpoints.endpointname\" sourceproperty=\"endpoint\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementtypes.entitlementname\" sourceproperty=\"entitlementtype\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlementvalue\" sourceproperty=\"entitlementvalue\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"accounts.status\" sourceproperty=\"status\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"accounts.customproperty25\" sourceproperty=\"updatedate\" type=\"date\"/> </mapper> </dataMapping>",
        "entitlement_value_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(*) as count, endpointname,owner, 'Test-Data' as endpoint, 'Test-Data' as securitysystem, \"1\" as status from mysqllocal.accounts; ]]> </count-query> <sql-query description=\"This is the Source Database Query\"> <![CDATA[select 'Test-Data' as systemname,dataowner1,'Test-Data' as endpointname,entitlementtype,entitlementvalue,entID,1 as status from mysqllocal.entitlements]]> </sql-query> <mapper description=\"This is the mapping field for Saviynt Field name\" deleteentitlementowner=\"true\" entnotpresentaction=\"noaction\" createentitlementtype=\"true\" systems=\"'Test-Data'\"> <mapfield saviyntproperty=\"securitysystems.systemname\" sourceproperty=\"systemname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"endpoints.endpointname\" sourceproperty=\"endpointname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementtypes.entitlementname\" sourceproperty=\"entitlementtype\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlement_value\" sourceproperty=\"entitlementvalue\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entitlementID\" sourceproperty=\"entID\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.status\" sourceproperty=\"status\" type=\"number\"></mapfield> <mapfield saviyntproperty=\"entitlementvalues.entowner1\" sourceproperty=\"dataowner1\" type=\"number\"></mapfield> </mapper> </dataMapping>",
        "user_import": "<dataMapping> <count-query description=\"This is the Source Endpoint DB Count Query\"> <![CDATA[ select count(username) as count from mysqllocal.users; ]]> </count-query> <sql-query description=\"This is the Source DB Query\"> <![CDATA[select username,'Test-Data' as endpoint,firstname,lastname, statuskey from mysqllocal.users;]]> </sql-query> <importsettings> <zeroDayProvisioning>false</zeroDayProvisioning> <generateEmail>true</generateEmail> <userNotInFileAction>NOACTION</userNotInFileAction> <checkRules>false</checkRules> <buildUserMap>false</buildUserMap> <generateSystemUsername>false</generateSystemUsername> <userOperationsAllowed>CREATE,UPDATE</userOperationsAllowed> <userReconcillationField>username</userReconcillationField> </importsettings> <mapper description=\"This is the mapping field for Saviynt Field name\"> <mapfield saviyntproperty=\"users.username\" sourceproperty=\"username\" type=\"character\"/> <mapfield saviyntproperty=\"users.firstname\" sourceproperty=\"firstname\" type=\"character\"></mapfield> <mapfield saviyntproperty=\"users.lastname\" sourceproperty=\"lastname\" type=\"character\"></mapfield> </mapper> </dataMapping>"
      }
  }
  